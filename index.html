<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Produits Open Source â€” France Travail</title>
    <link rel="stylesheet" href="css/styles.css" />
  </head>
  <body>
    <header>
      <img src="logo-ft.svg" alt="France Travail" class="logo" />
      <h1>Les produits open source de France Travail</h1>
      <nav>
        <ul class="nav-tabs">
          <li><a href="#produits">Nos produits</a></li>
          <li><a href="#contributeurs">Nos contributeurs</a></li>
          <li><a href="#stats">Nos chiffres</a></li>
          <li><a href="#contribuer">Comment contribuer</a></li>
        </ul>
      </nav>
    </header>

    <main>
      <section id="produits">
        <h2>ğŸ¯ Nos produits</h2>
        <ul id="product-list" class="product-list"></ul>
      </section>

      <section id="contributeurs">
        <h2>ğŸ–ï¸ Merci Ã  nos contributeurs</h2>
        <div id="contributors" class="contributors"></div>
      </section>

      <section id="stats">
        <h2>ğŸ“ˆ Nos chiffres</h2>
        <ul id="metrics" class="metrics-list"></ul>
      </section>

      <section id="contribuer">
        <h2>ğŸ¤ Comment contribuer</h2>
        <p>
          Vous pouvez proposer une amÃ©lioration ou contribuer Ã  lâ€™un de nos
          projets publics sur GitHub. Nâ€™hÃ©sitez pas Ã  ouvrir une issue ou
          proposer une pull request !
        </p>
      </section>

    </main>

    <footer>
      <p>&copy; France Travail â€” Open Source</p>
    </footer>

    <script>
      // Chargement des produits depuis le JSON
      fetch("seeds/products.json")
        .then((res) => res.json())
        .then((products) => {
          const list = document.getElementById("product-list");
          products.forEach((product) => {
            const li = document.createElement("li");
            li.className = "product";

            const title = document.createElement("h3");
            title.textContent = product.name;

            const desc = document.createElement("p");
            desc.textContent = product.description;

            const link = document.createElement("a");
            link.href = product.link;
            link.textContent = "Voir le projet";
            link.target = "_blank";
            link.rel = "noopener";

            li.appendChild(title);
            li.appendChild(desc);
            li.appendChild(link);
            list.appendChild(li);
          });
        });

      // Statistiques
      const metrics = {
        depots: 23,
        stars: 121,
        forks: 48,
        contributeurs: 17,
      };
      const metricsList = document.getElementById("metrics");
      for (let [key, val] of Object.entries(metrics)) {
        const item = document.createElement("li");
        item.textContent = `${key} : ${val}`;
        metricsList.appendChild(item);
      }

      // Contributeurs (placeholder)
      const contributors = [
        { name: "Alice", avatar: "https://github.com/alice.png" },
        { name: "Bob", avatar: "https://github.com/bob.png" },
      ];
      const contDiv = document.getElementById("contributors");
      contributors.forEach((user) => {
        const div = document.createElement("div");
        div.className = "contributor";
        div.innerHTML = `<img src="${user.avatar}" alt="${user.name}"/><span>${user.name}</span>`;
        contDiv.appendChild(div);
      });
    </script>
  </body>
</html>
